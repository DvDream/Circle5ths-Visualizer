{"id":"tonal/extensions/detect/index.js","dependencies":[{"name":"/Users/francescopino/Desktop/POLIMI/ADV coding/projectADV/package.json","includedInParent":true,"mtime":1543893290000},{"name":"tonal-note","loc":{"line":18,"column":25},"parent":"/Users/francescopino/Desktop/POLIMI/ADV coding/projectADV/tonal/extensions/detect/index.js","resolved":"/Users/francescopino/Desktop/POLIMI/ADV coding/projectADV/tonal/extensions/detect/node_modules/tonal-note/build/es6.js"},{"name":"tonal-dictionary","loc":{"line":19,"column":28},"parent":"/Users/francescopino/Desktop/POLIMI/ADV coding/projectADV/tonal/extensions/detect/index.js","resolved":"/Users/francescopino/Desktop/POLIMI/ADV coding/projectADV/tonal/extensions/detect/node_modules/tonal-dictionary/build/es6.js"},{"name":"tonal-array","loc":{"line":20,"column":30},"parent":"/Users/francescopino/Desktop/POLIMI/ADV coding/projectADV/tonal/extensions/detect/index.js","resolved":"/Users/francescopino/Desktop/POLIMI/ADV coding/projectADV/tonal/extensions/detect/node_modules/tonal-array/build/es6.js"},{"name":"tonal-pcset","loc":{"line":21,"column":22},"parent":"/Users/francescopino/Desktop/POLIMI/ADV coding/projectADV/tonal/extensions/detect/index.js","resolved":"/Users/francescopino/Desktop/POLIMI/ADV coding/projectADV/tonal/extensions/detect/node_modules/tonal-pcset/build/es6.js"}],"generated":{"js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.detector = detector;\nexports.pcset = exports.scale = exports.chord = void 0;\n\nvar _tonalNote = require(\"tonal-note\");\n\nvar Dictionary = _interopRequireWildcard(require(\"tonal-dictionary\"));\n\nvar _tonalArray = require(\"tonal-array\");\n\nvar _tonalPcset = require(\"tonal-pcset\");\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\n/**\n * [![npm version](https://img.shields.io/npm/v/tonal-detect.svg?style=flat-square)](https://www.npmjs.com/package/tonal-detect)\n *\n * Find chord and scale names from a collection of notes or pitch classes\n *\n * This is part of [tonal](https://www.npmjs.com/package/tonal) music theory library.\n *\n * @example\n * import { chord } from \"tonal-detect\"\n * chord([\"C\", \"E\", \"G\", \"A\"]) // => [\"CM6\", \"Am7\"]\n *\n * @example\n * const Detect = require(\"tonal-detect\")\n * Detect.chord([\"C\", \"E\", \"G\", \"A\"]) // => [\"CM6\", \"Am7\"]\n *\n * @module Detect\n */\nfunction detector(dictionary, defaultBuilder) {\n  defaultBuilder = defaultBuilder || function (tonic, names) {\n    return [tonic, names];\n  };\n\n  return function (notes, builder) {\n    builder = builder || defaultBuilder;\n    notes = (0, _tonalArray.sort)(notes.map(_tonalNote.pc));\n    return (0, _tonalPcset.modes)(notes).map(function (mode, i) {\n      var tonic = (0, _tonalNote.name)(notes[i]);\n      var names = dictionary.names(mode);\n      return names.length ? builder(tonic, names) : null;\n    }).filter(function (x) {\n      return x;\n    });\n  };\n}\n/**\n * Given a collection of notes or pitch classes, try to find the chord name\n * @function\n * @param {Array<String>} notes\n * @return {Array<String>} chord names or empty array\n * @example\n * Detect.chord([\"C\", \"E\", \"G\", \"A\"]) // => [\"CM6\", \"Am7\"]\n */\n\n\nvar chord = detector(Dictionary.chord, function (tonic, names) {\n  return tonic + names[0];\n});\n/**\n * Given a collection of notes or pitch classes, try to find the scale names\n * @function\n * @param {Array<String>} notes\n * @return {Array<String>} scale names or empty array\n * @example\n * Detect.scale([\"f3\", \"a\", \"c5\", \"e2\", \"d\", \"g2\", \"b6\"]) // => [\n * \"C major\",\n * \"D dorian\",\n * \"E phrygian\",\n * \"F lydian\",\n * \"G mixolydian\",\n * \"A aeolian\",\n * \"B locrian\"\n * ]\n */\n\nexports.chord = chord;\nvar scale = detector(Dictionary.scale, function (tonic, names) {\n  return tonic + \" \" + names[0];\n});\nexports.scale = scale;\nvar pcset = detector(Dictionary.pcset);\nexports.pcset = pcset;","map":{"mappings":[{"generated":{"line":9,"column":0},"source":"tonal/extensions/detect/index.js","original":{"line":18,"column":0}},{"generated":{"line":11,"column":0},"source":"tonal/extensions/detect/index.js","original":{"line":19,"column":0}},{"generated":{"line":13,"column":0},"source":"tonal/extensions/detect/index.js","original":{"line":20,"column":0}},{"generated":{"line":15,"column":0},"source":"tonal/extensions/detect/index.js","original":{"line":21,"column":0}},{"generated":{"line":19,"column":0},"source":"tonal/extensions/detect/index.js","original":{"line":1,"column":0}},{"generated":{"line":36,"column":0},"source":"tonal/extensions/detect/index.js","original":{"line":23,"column":7}},{"name":"detector","generated":{"line":36,"column":9},"source":"tonal/extensions/detect/index.js","original":{"line":23,"column":16}},{"generated":{"line":36,"column":17},"source":"tonal/extensions/detect/index.js","original":{"line":23,"column":7}},{"name":"dictionary","generated":{"line":36,"column":18},"source":"tonal/extensions/detect/index.js","original":{"line":23,"column":25}},{"generated":{"line":36,"column":28},"source":"tonal/extensions/detect/index.js","original":{"line":23,"column":7}},{"name":"defaultBuilder","generated":{"line":36,"column":30},"source":"tonal/extensions/detect/index.js","original":{"line":23,"column":37}},{"generated":{"line":36,"column":44},"source":"tonal/extensions/detect/index.js","original":{"line":23,"column":7}},{"generated":{"line":36,"column":46},"source":"tonal/extensions/detect/index.js","original":{"line":23,"column":53}},{"name":"defaultBuilder","generated":{"line":37,"column":0},"source":"tonal/extensions/detect/index.js","original":{"line":24,"column":2}},{"name":"defaultBuilder","generated":{"line":37,"column":2},"source":"tonal/extensions/detect/index.js","original":{"line":24,"column":2}},{"generated":{"line":37,"column":16},"source":"tonal/extensions/detect/index.js","original":{"line":24,"column":16}},{"name":"defaultBuilder","generated":{"line":37,"column":19},"source":"tonal/extensions/detect/index.js","original":{"line":24,"column":19}},{"generated":{"line":37,"column":33},"source":"tonal/extensions/detect/index.js","original":{"line":24,"column":33}},{"generated":{"line":37,"column":37},"source":"tonal/extensions/detect/index.js","original":{"line":24,"column":38}},{"name":"tonic","generated":{"line":37,"column":47},"source":"tonal/extensions/detect/index.js","original":{"line":24,"column":39}},{"generated":{"line":37,"column":52},"source":"tonal/extensions/detect/index.js","original":{"line":24,"column":38}},{"name":"names","generated":{"line":37,"column":54},"source":"tonal/extensions/detect/index.js","original":{"line":24,"column":46}},{"generated":{"line":37,"column":59},"source":"tonal/extensions/detect/index.js","original":{"line":24,"column":38}},{"generated":{"line":38,"column":0},"source":"tonal/extensions/detect/index.js","original":{"line":24,"column":38}},{"generated":{"line":38,"column":11},"source":"tonal/extensions/detect/index.js","original":{"line":24,"column":56}},{"name":"tonic","generated":{"line":38,"column":12},"source":"tonal/extensions/detect/index.js","original":{"line":24,"column":57}},{"generated":{"line":38,"column":17},"source":"tonal/extensions/detect/index.js","original":{"line":24,"column":56}},{"name":"names","generated":{"line":38,"column":19},"source":"tonal/extensions/detect/index.js","original":{"line":24,"column":64}},{"generated":{"line":38,"column":24},"source":"tonal/extensions/detect/index.js","original":{"line":24,"column":56}},{"generated":{"line":38,"column":25},"source":"tonal/extensions/detect/index.js","original":{"line":24,"column":38}},{"generated":{"line":39,"column":0},"source":"tonal/extensions/detect/index.js","original":{"line":24,"column":38}},{"generated":{"line":39,"column":3},"source":"tonal/extensions/detect/index.js","original":{"line":24,"column":2}},{"generated":{"line":41,"column":0},"source":"tonal/extensions/detect/index.js","original":{"line":25,"column":2}},{"generated":{"line":41,"column":9},"source":"tonal/extensions/detect/index.js","original":{"line":25,"column":9}},{"name":"notes","generated":{"line":41,"column":19},"source":"tonal/extensions/detect/index.js","original":{"line":25,"column":18}},{"generated":{"line":41,"column":24},"source":"tonal/extensions/detect/index.js","original":{"line":25,"column":9}},{"name":"builder","generated":{"line":41,"column":26},"source":"tonal/extensions/detect/index.js","original":{"line":25,"column":25}},{"generated":{"line":41,"column":33},"source":"tonal/extensions/detect/index.js","original":{"line":25,"column":9}},{"generated":{"line":41,"column":35},"source":"tonal/extensions/detect/index.js","original":{"line":25,"column":34}},{"name":"builder","generated":{"line":42,"column":0},"source":"tonal/extensions/detect/index.js","original":{"line":26,"column":4}},{"name":"builder","generated":{"line":42,"column":4},"source":"tonal/extensions/detect/index.js","original":{"line":26,"column":4}},{"generated":{"line":42,"column":11},"source":"tonal/extensions/detect/index.js","original":{"line":26,"column":11}},{"name":"builder","generated":{"line":42,"column":14},"source":"tonal/extensions/detect/index.js","original":{"line":26,"column":14}},{"generated":{"line":42,"column":21},"source":"tonal/extensions/detect/index.js","original":{"line":26,"column":21}},{"name":"defaultBuilder","generated":{"line":42,"column":25},"source":"tonal/extensions/detect/index.js","original":{"line":26,"column":25}},{"generated":{"line":42,"column":39},"source":"tonal/extensions/detect/index.js","original":{"line":26,"column":4}},{"name":"notes","generated":{"line":43,"column":0},"source":"tonal/extensions/detect/index.js","original":{"line":27,"column":4}},{"name":"notes","generated":{"line":43,"column":4},"source":"tonal/extensions/detect/index.js","original":{"line":27,"column":4}},{"generated":{"line":43,"column":9},"source":"tonal/extensions/detect/index.js","original":{"line":27,"column":9}},{"generated":{"line":43,"column":12},"source":"tonal/extensions/detect/index.js","original":{"line":27,"column":12}},{"name":"notes","generated":{"line":43,"column":34},"source":"tonal/extensions/detect/index.js","original":{"line":27,"column":17}},{"generated":{"line":43,"column":39},"source":"tonal/extensions/detect/index.js","original":{"line":27,"column":22}},{"name":"map","generated":{"line":43,"column":40},"source":"tonal/extensions/detect/index.js","original":{"line":27,"column":23}},{"generated":{"line":43,"column":43},"source":"tonal/extensions/detect/index.js","original":{"line":27,"column":17}},{"name":"pc","generated":{"line":43,"column":44},"source":"tonal/extensions/detect/index.js","original":{"line":27,"column":27}},{"generated":{"line":43,"column":57},"source":"tonal/extensions/detect/index.js","original":{"line":27,"column":17}},{"generated":{"line":43,"column":58},"source":"tonal/extensions/detect/index.js","original":{"line":27,"column":12}},{"generated":{"line":43,"column":59},"source":"tonal/extensions/detect/index.js","original":{"line":27,"column":4}},{"generated":{"line":44,"column":0},"source":"tonal/extensions/detect/index.js","original":{"line":28,"column":4}},{"generated":{"line":44,"column":11},"source":"tonal/extensions/detect/index.js","original":{"line":28,"column":11}},{"name":"notes","generated":{"line":44,"column":34},"source":"tonal/extensions/detect/index.js","original":{"line":28,"column":17}},{"generated":{"line":44,"column":39},"source":"tonal/extensions/detect/index.js","original":{"line":28,"column":11}},{"name":"map","generated":{"line":44,"column":41},"source":"tonal/extensions/detect/index.js","original":{"line":29,"column":7}},{"generated":{"line":44,"column":44},"source":"tonal/extensions/detect/index.js","original":{"line":28,"column":11}},{"generated":{"line":44,"column":45},"source":"tonal/extensions/detect/index.js","original":{"line":29,"column":11}},{"name":"mode","generated":{"line":44,"column":55},"source":"tonal/extensions/detect/index.js","original":{"line":29,"column":12}},{"generated":{"line":44,"column":59},"source":"tonal/extensions/detect/index.js","original":{"line":29,"column":11}},{"name":"i","generated":{"line":44,"column":61},"source":"tonal/extensions/detect/index.js","original":{"line":29,"column":18}},{"generated":{"line":44,"column":62},"source":"tonal/extensions/detect/index.js","original":{"line":29,"column":11}},{"generated":{"line":44,"column":64},"source":"tonal/extensions/detect/index.js","original":{"line":29,"column":24}},{"generated":{"line":45,"column":0},"source":"tonal/extensions/detect/index.js","original":{"line":30,"column":8}},{"name":"tonic","generated":{"line":45,"column":10},"source":"tonal/extensions/detect/index.js","original":{"line":30,"column":14}},{"generated":{"line":45,"column":15},"source":"tonal/extensions/detect/index.js","original":{"line":30,"column":19}},{"generated":{"line":45,"column":18},"source":"tonal/extensions/detect/index.js","original":{"line":30,"column":22}},{"name":"notes","generated":{"line":45,"column":39},"source":"tonal/extensions/detect/index.js","original":{"line":30,"column":27}},{"generated":{"line":45,"column":44},"source":"tonal/extensions/detect/index.js","original":{"line":30,"column":32}},{"name":"i","generated":{"line":45,"column":45},"source":"tonal/extensions/detect/index.js","original":{"line":30,"column":33}},{"generated":{"line":45,"column":46},"source":"tonal/extensions/detect/index.js","original":{"line":30,"column":32}},{"generated":{"line":45,"column":47},"source":"tonal/extensions/detect/index.js","original":{"line":30,"column":22}},{"generated":{"line":45,"column":48},"source":"tonal/extensions/detect/index.js","original":{"line":30,"column":8}},{"generated":{"line":46,"column":0},"source":"tonal/extensions/detect/index.js","original":{"line":31,"column":8}},{"name":"names","generated":{"line":46,"column":10},"source":"tonal/extensions/detect/index.js","original":{"line":31,"column":14}},{"generated":{"line":46,"column":15},"source":"tonal/extensions/detect/index.js","original":{"line":31,"column":19}},{"name":"dictionary","generated":{"line":46,"column":18},"source":"tonal/extensions/detect/index.js","original":{"line":31,"column":22}},{"generated":{"line":46,"column":28},"source":"tonal/extensions/detect/index.js","original":{"line":31,"column":32}},{"name":"names","generated":{"line":46,"column":29},"source":"tonal/extensions/detect/index.js","original":{"line":31,"column":33}},{"generated":{"line":46,"column":34},"source":"tonal/extensions/detect/index.js","original":{"line":31,"column":22}},{"name":"mode","generated":{"line":46,"column":35},"source":"tonal/extensions/detect/index.js","original":{"line":31,"column":39}},{"generated":{"line":46,"column":39},"source":"tonal/extensions/detect/index.js","original":{"line":31,"column":22}},{"generated":{"line":46,"column":40},"source":"tonal/extensions/detect/index.js","original":{"line":31,"column":8}},{"generated":{"line":47,"column":0},"source":"tonal/extensions/detect/index.js","original":{"line":32,"column":8}},{"name":"names","generated":{"line":47,"column":13},"source":"tonal/extensions/detect/index.js","original":{"line":32,"column":15}},{"generated":{"line":47,"column":18},"source":"tonal/extensions/detect/index.js","original":{"line":32,"column":20}},{"name":"length","generated":{"line":47,"column":19},"source":"tonal/extensions/detect/index.js","original":{"line":32,"column":21}},{"generated":{"line":47,"column":25},"source":"tonal/extensions/detect/index.js","original":{"line":32,"column":15}},{"name":"builder","generated":{"line":47,"column":28},"source":"tonal/extensions/detect/index.js","original":{"line":32,"column":30}},{"generated":{"line":47,"column":35},"source":"tonal/extensions/detect/index.js","original":{"line":32,"column":37}},{"name":"tonic","generated":{"line":47,"column":36},"source":"tonal/extensions/detect/index.js","original":{"line":32,"column":38}},{"generated":{"line":47,"column":41},"source":"tonal/extensions/detect/index.js","original":{"line":32,"column":37}},{"name":"names","generated":{"line":47,"column":43},"source":"tonal/extensions/detect/index.js","original":{"line":32,"column":45}},{"generated":{"line":47,"column":48},"source":"tonal/extensions/detect/index.js","original":{"line":32,"column":37}},{"generated":{"line":47,"column":49},"source":"tonal/extensions/detect/index.js","original":{"line":32,"column":15}},{"generated":{"line":47,"column":52},"source":"tonal/extensions/detect/index.js","original":{"line":32,"column":54}},{"generated":{"line":47,"column":56},"source":"tonal/extensions/detect/index.js","original":{"line":32,"column":8}},{"generated":{"line":48,"column":0},"source":"tonal/extensions/detect/index.js","original":{"line":33,"column":7}},{"generated":{"line":48,"column":5},"source":"tonal/extensions/detect/index.js","original":{"line":28,"column":11}},{"name":"filter","generated":{"line":48,"column":7},"source":"tonal/extensions/detect/index.js","original":{"line":34,"column":7}},{"generated":{"line":48,"column":13},"source":"tonal/extensions/detect/index.js","original":{"line":28,"column":11}},{"generated":{"line":48,"column":14},"source":"tonal/extensions/detect/index.js","original":{"line":34,"column":14}},{"name":"x","generated":{"line":48,"column":24},"source":"tonal/extensions/detect/index.js","original":{"line":34,"column":14}},{"generated":{"line":48,"column":25},"source":"tonal/extensions/detect/index.js","original":{"line":34,"column":15}},{"generated":{"line":49,"column":0},"source":"tonal/extensions/detect/index.js","original":{"line":34,"column":15}},{"name":"x","generated":{"line":49,"column":13},"source":"tonal/extensions/detect/index.js","original":{"line":34,"column":19}},{"generated":{"line":49,"column":14},"source":"tonal/extensions/detect/index.js","original":{"line":34,"column":15}},{"generated":{"line":50,"column":0},"source":"tonal/extensions/detect/index.js","original":{"line":34,"column":15}},{"generated":{"line":50,"column":5},"source":"tonal/extensions/detect/index.js","original":{"line":28,"column":11}},{"generated":{"line":50,"column":6},"source":"tonal/extensions/detect/index.js","original":{"line":28,"column":4}},{"generated":{"line":51,"column":0},"source":"tonal/extensions/detect/index.js","original":{"line":35,"column":3}},{"generated":{"line":51,"column":3},"source":"tonal/extensions/detect/index.js","original":{"line":25,"column":2}},{"generated":{"line":52,"column":0},"source":"tonal/extensions/detect/index.js","original":{"line":36,"column":1}},{"generated":{"line":53,"column":0},"source":"tonal/extensions/detect/index.js","original":{"line":38,"column":0}},{"generated":{"line":63,"column":0},"source":"tonal/extensions/detect/index.js","original":{"line":46,"column":7}},{"name":"chord","generated":{"line":63,"column":4},"source":"tonal/extensions/detect/index.js","original":{"line":46,"column":13}},{"generated":{"line":63,"column":9},"source":"tonal/extensions/detect/index.js","original":{"line":46,"column":18}},{"name":"detector","generated":{"line":63,"column":12},"source":"tonal/extensions/detect/index.js","original":{"line":46,"column":21}},{"generated":{"line":63,"column":20},"source":"tonal/extensions/detect/index.js","original":{"line":46,"column":29}},{"name":"Dictionary","generated":{"line":63,"column":21},"source":"tonal/extensions/detect/index.js","original":{"line":47,"column":2}},{"generated":{"line":63,"column":31},"source":"tonal/extensions/detect/index.js","original":{"line":47,"column":12}},{"name":"chord","generated":{"line":63,"column":32},"source":"tonal/extensions/detect/index.js","original":{"line":47,"column":13}},{"generated":{"line":63,"column":37},"source":"tonal/extensions/detect/index.js","original":{"line":46,"column":29}},{"generated":{"line":63,"column":39},"source":"tonal/extensions/detect/index.js","original":{"line":48,"column":2}},{"name":"tonic","generated":{"line":63,"column":49},"source":"tonal/extensions/detect/index.js","original":{"line":48,"column":3}},{"generated":{"line":63,"column":54},"source":"tonal/extensions/detect/index.js","original":{"line":48,"column":2}},{"name":"names","generated":{"line":63,"column":56},"source":"tonal/extensions/detect/index.js","original":{"line":48,"column":10}},{"generated":{"line":63,"column":61},"source":"tonal/extensions/detect/index.js","original":{"line":48,"column":2}},{"generated":{"line":64,"column":0},"source":"tonal/extensions/detect/index.js","original":{"line":48,"column":2}},{"name":"tonic","generated":{"line":64,"column":9},"source":"tonal/extensions/detect/index.js","original":{"line":48,"column":20}},{"generated":{"line":64,"column":14},"source":"tonal/extensions/detect/index.js","original":{"line":48,"column":25}},{"name":"names","generated":{"line":64,"column":17},"source":"tonal/extensions/detect/index.js","original":{"line":48,"column":28}},{"generated":{"line":64,"column":22},"source":"tonal/extensions/detect/index.js","original":{"line":48,"column":33}},{"generated":{"line":64,"column":23},"source":"tonal/extensions/detect/index.js","original":{"line":48,"column":34}},{"generated":{"line":64,"column":24},"source":"tonal/extensions/detect/index.js","original":{"line":48,"column":33}},{"generated":{"line":64,"column":25},"source":"tonal/extensions/detect/index.js","original":{"line":48,"column":2}},{"generated":{"line":65,"column":0},"source":"tonal/extensions/detect/index.js","original":{"line":48,"column":2}},{"generated":{"line":65,"column":1},"source":"tonal/extensions/detect/index.js","original":{"line":46,"column":29}},{"generated":{"line":65,"column":2},"source":"tonal/extensions/detect/index.js","original":{"line":46,"column":7}},{"generated":{"line":66,"column":0},"source":"tonal/extensions/detect/index.js","original":{"line":51,"column":0}},{"generated":{"line":84,"column":0},"source":"tonal/extensions/detect/index.js","original":{"line":67,"column":7}},{"name":"scale","generated":{"line":84,"column":4},"source":"tonal/extensions/detect/index.js","original":{"line":67,"column":13}},{"generated":{"line":84,"column":9},"source":"tonal/extensions/detect/index.js","original":{"line":67,"column":18}},{"name":"detector","generated":{"line":84,"column":12},"source":"tonal/extensions/detect/index.js","original":{"line":67,"column":21}},{"generated":{"line":84,"column":20},"source":"tonal/extensions/detect/index.js","original":{"line":67,"column":29}},{"name":"Dictionary","generated":{"line":84,"column":21},"source":"tonal/extensions/detect/index.js","original":{"line":68,"column":2}},{"generated":{"line":84,"column":31},"source":"tonal/extensions/detect/index.js","original":{"line":68,"column":12}},{"name":"scale","generated":{"line":84,"column":32},"source":"tonal/extensions/detect/index.js","original":{"line":68,"column":13}},{"generated":{"line":84,"column":37},"source":"tonal/extensions/detect/index.js","original":{"line":67,"column":29}},{"generated":{"line":84,"column":39},"source":"tonal/extensions/detect/index.js","original":{"line":69,"column":2}},{"name":"tonic","generated":{"line":84,"column":49},"source":"tonal/extensions/detect/index.js","original":{"line":69,"column":3}},{"generated":{"line":84,"column":54},"source":"tonal/extensions/detect/index.js","original":{"line":69,"column":2}},{"name":"names","generated":{"line":84,"column":56},"source":"tonal/extensions/detect/index.js","original":{"line":69,"column":10}},{"generated":{"line":84,"column":61},"source":"tonal/extensions/detect/index.js","original":{"line":69,"column":2}},{"generated":{"line":85,"column":0},"source":"tonal/extensions/detect/index.js","original":{"line":69,"column":2}},{"name":"tonic","generated":{"line":85,"column":9},"source":"tonal/extensions/detect/index.js","original":{"line":69,"column":20}},{"generated":{"line":85,"column":14},"source":"tonal/extensions/detect/index.js","original":{"line":69,"column":25}},{"generated":{"line":85,"column":17},"source":"tonal/extensions/detect/index.js","original":{"line":69,"column":28}},{"generated":{"line":85,"column":20},"source":"tonal/extensions/detect/index.js","original":{"line":69,"column":20}},{"name":"names","generated":{"line":85,"column":23},"source":"tonal/extensions/detect/index.js","original":{"line":69,"column":34}},{"generated":{"line":85,"column":28},"source":"tonal/extensions/detect/index.js","original":{"line":69,"column":39}},{"generated":{"line":85,"column":29},"source":"tonal/extensions/detect/index.js","original":{"line":69,"column":40}},{"generated":{"line":85,"column":30},"source":"tonal/extensions/detect/index.js","original":{"line":69,"column":39}},{"generated":{"line":85,"column":31},"source":"tonal/extensions/detect/index.js","original":{"line":69,"column":2}},{"generated":{"line":86,"column":0},"source":"tonal/extensions/detect/index.js","original":{"line":69,"column":2}},{"generated":{"line":86,"column":1},"source":"tonal/extensions/detect/index.js","original":{"line":67,"column":29}},{"generated":{"line":86,"column":2},"source":"tonal/extensions/detect/index.js","original":{"line":67,"column":7}},{"generated":{"line":88,"column":0},"source":"tonal/extensions/detect/index.js","original":{"line":72,"column":7}},{"name":"pcset","generated":{"line":88,"column":4},"source":"tonal/extensions/detect/index.js","original":{"line":72,"column":13}},{"generated":{"line":88,"column":9},"source":"tonal/extensions/detect/index.js","original":{"line":72,"column":18}},{"name":"detector","generated":{"line":88,"column":12},"source":"tonal/extensions/detect/index.js","original":{"line":72,"column":21}},{"generated":{"line":88,"column":20},"source":"tonal/extensions/detect/index.js","original":{"line":72,"column":29}},{"name":"Dictionary","generated":{"line":88,"column":21},"source":"tonal/extensions/detect/index.js","original":{"line":72,"column":30}},{"generated":{"line":88,"column":31},"source":"tonal/extensions/detect/index.js","original":{"line":72,"column":40}},{"name":"pcset","generated":{"line":88,"column":32},"source":"tonal/extensions/detect/index.js","original":{"line":72,"column":41}},{"generated":{"line":88,"column":37},"source":"tonal/extensions/detect/index.js","original":{"line":72,"column":29}},{"generated":{"line":88,"column":38},"source":"tonal/extensions/detect/index.js","original":{"line":72,"column":7}}],"sources":{"tonal/extensions/detect/index.js":"/**\n * [![npm version](https://img.shields.io/npm/v/tonal-detect.svg?style=flat-square)](https://www.npmjs.com/package/tonal-detect)\n *\n * Find chord and scale names from a collection of notes or pitch classes\n *\n * This is part of [tonal](https://www.npmjs.com/package/tonal) music theory library.\n *\n * @example\n * import { chord } from \"tonal-detect\"\n * chord([\"C\", \"E\", \"G\", \"A\"]) // => [\"CM6\", \"Am7\"]\n *\n * @example\n * const Detect = require(\"tonal-detect\")\n * Detect.chord([\"C\", \"E\", \"G\", \"A\"]) // => [\"CM6\", \"Am7\"]\n *\n * @module Detect\n */\nimport { name, pc } from \"tonal-note\";\nimport * as Dictionary from \"tonal-dictionary\";\nimport { sort, compact } from \"tonal-array\";\nimport { modes } from \"tonal-pcset\";\n\nexport function detector(dictionary, defaultBuilder) {\n  defaultBuilder = defaultBuilder || ((tonic, names) => [tonic, names]);\n  return function(notes, builder) {\n    builder = builder || defaultBuilder;\n    notes = sort(notes.map(pc));\n    return modes(notes)\n      .map((mode, i) => {\n        const tonic = name(notes[i]);\n        const names = dictionary.names(mode);\n        return names.length ? builder(tonic, names) : null;\n      })\n      .filter(x => x);\n  };\n}\n\n/**\n * Given a collection of notes or pitch classes, try to find the chord name\n * @function\n * @param {Array<String>} notes\n * @return {Array<String>} chord names or empty array\n * @example\n * Detect.chord([\"C\", \"E\", \"G\", \"A\"]) // => [\"CM6\", \"Am7\"]\n */\nexport const chord = detector(\n  Dictionary.chord,\n  (tonic, names) => tonic + names[0]\n);\n\n/**\n * Given a collection of notes or pitch classes, try to find the scale names\n * @function\n * @param {Array<String>} notes\n * @return {Array<String>} scale names or empty array\n * @example\n * Detect.scale([\"f3\", \"a\", \"c5\", \"e2\", \"d\", \"g2\", \"b6\"]) // => [\n * \"C major\",\n * \"D dorian\",\n * \"E phrygian\",\n * \"F lydian\",\n * \"G mixolydian\",\n * \"A aeolian\",\n * \"B locrian\"\n * ]\n */\nexport const scale = detector(\n  Dictionary.scale,\n  (tonic, names) => tonic + \" \" + names[0]\n);\n\nexport const pcset = detector(Dictionary.pcset);\n"},"lineCount":null}},"hash":"0ebcff41016e3eb37a79fe0daa993fae","cacheData":{"env":{}}}